{% extends "header-template.html" %}

{% block title %}Complaints â€“ Admin Panel{% endblock %}

{% block styles %}
<style>
  .card-lists
  {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
  }
  .card {
    margin-top: 20px;
    width: 500px;
    background: var(--surface);
    border-radius: 20px;
    border: 1px solid var(--border);
    box-shadow: 0px 4px 12px rgba(0,0,0,0.15);
    transition: transform 0.2s ease-in-out;
  }
  .card:hover { transform: translateY(-4px); }

  .card-header, .card-footer {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin: 0 20px;
  }

  .card-main { margin: 0 20px; }

  .card-header h4, .card-header h3 { margin: 0 20px; }

  /* Priority styles */
  .High   { color: #DC2626; font-weight: bold; }
  .Medium { color: #D97706; font-weight: bold; }
  .Low    { color: #16A34A; font-weight: bold; }
</style>
{% endblock %}

{% block content %}
<div class="card-lists">
  {% if querry %}
    {% for msg in querry %}
      <div class="card">
        <div class="card-header">
          <h3>{{ msg[0] }}</h3>
          <h4 class="{% if msg[2] == 'High' %}High{% elif msg[2] == 'Medium' %}Medium{% else %}Low{% endif %}">
            {{ msg[2] }}
          </h4>
        </div>
        <div class="card-main">
          <p>{{ msg[1] }}</p>
        </div>
        <div class="card-footer">
          <h4>Issued By: {{ msg[3] }} ({{ msg[4] }})</h4>
          <h4>{{ msg[5] }}</h4>
        </div>
      </div>
    {% endfor %}
  {% else %}
    <h1>No new messages</h1>
  {% endif %}
</div>
{% endblock %}
